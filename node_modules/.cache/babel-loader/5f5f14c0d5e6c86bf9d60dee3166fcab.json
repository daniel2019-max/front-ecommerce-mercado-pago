{"ast":null,"code":"var _jsxFileName = \"/home/dan/Escritorio/react-ecomerce/back-ecomerce/otro/front-ecommerce-mercado-pago/src/pages/Details.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Redirect, useLocation } from \"react-router-dom\";\nimport { useQuery } from \"../hooks/use-query\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Details = () => {\n  _s();\n\n  const [quantity, setQuantity] = useState(1);\n  const location = useLocation();\n  const query = useQuery(location.search);\n  const refContainer = useRef(null);\n  const refButton = useRef(null);\n  const data = {\n    img: query.get('img'),\n    title: query.get('title'),\n    price: parseFloat(query.get('price')),\n    unit: parseInt(query.get('unit'))\n  };\n\n  const handleClick = count => {\n    if (quantity + count > 0) {\n      setQuantity(quantity + count);\n    }\n  };\n\n  const handleCheckOut = () => {\n    refButton.current.disabled = true;\n    const preference = {\n      payer: {\n        name: \"Lalo\",\n        surname: \"Landa\",\n        email: \"test_user_46542185@testuser.com\",\n        phone: {\n          area_code: \"52\",\n          number: 5549737300\n        },\n        identification: {\n          type: \"DNI\",\n          number: \"22334445\"\n        },\n        address: {\n          zip_code: \"03940\",\n          street_name: \"Insurgentes Sur\",\n          street_number: 1602\n        }\n      },\n      items: [{\n        id: \"1234\",\n        picture_url: `${process.env.REACT_APP_URL_FRONT}${data.img}`,\n        // title: \"Samsung Galaxy S9\",\n        title: data.title,\n        description: \"Dispositivo mÃ³vil de Tienda e-commerce\",\n        quantity: quantity,\n        unit_price: data.price\n      }],\n      external_reference: `${process.env.REACT_APP_EXTERNAL_REFERENCE}`,\n      payment_methods: {\n        excluded_payment_methods: [{\n          id: \"diners\"\n        }],\n        excluded_payment_types: [{\n          id: \"atm\"\n        }],\n        installments: 6\n      },\n      back_urls: {\n        success: `${process.env.REACT_APP_URL_FRONT}/success`,\n        pending: `${process.env.REACT_APP_URL_FRONT}/pending`,\n        failure: `${process.env.REACT_APP_URL_FRONT}/failure`\n      },\n      auto_return: \"approved\",\n      notification_url: `${process.env.REACT_APP_URL_BACK}/mercado/notifications?source_news=webhooks`\n    };\n    fetch(`${process.env.REACT_APP_URL_BACK}/mercado/create_preference`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(preference)\n    }).then(result => {\n      return result.json();\n    }).then(preference => {\n      window.location = preference.init_point;\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  useEffect(() => {\n    const script = document.getElementById('mercado');\n    script.setAttribute(\"view\", \"item\");\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"ms-5\",\n      children: \"Smartphones\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3 w-75\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row g-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-3 p-0 text-center border\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: data.img,\n              alt: \"...\",\n              className: \"\",\n              style: {\n                'width': 200,\n                'height': 250\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-3 border\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"card-title text-primary\",\n                children: \"Producto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"PRECIO: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-success fw-bold\",\n                  children: [\"S/. \", data.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"MODELO: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 37\n                }, this), \" \", data.title, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"RAM: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 37\n                }, this), \" 8GB\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"CAMARA: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 37\n                }, this), \" 12MPX\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"ALMACENAMIENTO: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 37\n                }, this), \" 64GB\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"PANTALLA: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 37\n                }, this), \" AMOLED\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"BATERIA: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 37\n                }, this), \" 4000mAh\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"PROCESADOR: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 37\n                }, this), \" Snack dragon 654\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-3 border\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"card-title text-primary text-center\",\n                children: \"Cantidad\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: quantity,\n                  onChange: () => {},\n                  className: \"form-control\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => handleClick(-1),\n                    className: \"btn btn-primary mx-2\",\n                    children: \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => handleClick(+1),\n                    className: \"btn btn-primary\",\n                    children: \"+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-3 border text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"card-title text-primary\",\n                children: \"Cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"fs-4\",\n                children: [\"S/ \", data.price * quantity]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Subtotal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 36\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                ref: refButton,\n                id: \"btn-checkout\",\n                onClick: handleCheckOut,\n                className: \"btn btn-primary w-100\",\n                children: \"Pagar la compra\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"button-checkout\",\n                ref: refContainer\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Details, \"gYKOuVGJdL3FSRILTUEhb15TxkA=\", false, function () {\n  return [useLocation, useQuery];\n});\n\n_c = Details;\n\nvar _c;\n\n$RefreshReg$(_c, \"Details\");","map":{"version":3,"sources":["/home/dan/Escritorio/react-ecomerce/back-ecomerce/otro/front-ecommerce-mercado-pago/src/pages/Details.js"],"names":["React","useEffect","useRef","useState","Redirect","useLocation","useQuery","Details","quantity","setQuantity","location","query","search","refContainer","refButton","data","img","get","title","price","parseFloat","unit","parseInt","handleClick","count","handleCheckOut","current","disabled","preference","payer","name","surname","email","phone","area_code","number","identification","type","address","zip_code","street_name","street_number","items","id","picture_url","process","env","REACT_APP_URL_FRONT","description","unit_price","external_reference","REACT_APP_EXTERNAL_REFERENCE","payment_methods","excluded_payment_methods","excluded_payment_types","installments","back_urls","success","pending","failure","auto_return","notification_url","REACT_APP_URL_BACK","fetch","method","headers","body","JSON","stringify","then","result","json","window","init_point","catch","e","console","log","script","document","getElementById","setAttribute"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from 'react'\nimport {Redirect, useLocation} from \"react-router-dom\";\nimport {useQuery} from \"../hooks/use-query\";\n\nexport const Details = () => {\n\n    const [quantity, setQuantity] = useState(1)\n    const location = useLocation()\n    const query = useQuery(location.search)\n    const refContainer = useRef(null)\n    const refButton = useRef(null)\n\n    const data = {\n        img: query.get('img'),\n        title: query.get('title'),\n        price: parseFloat(query.get('price')),\n        unit: parseInt(query.get('unit')),\n    }\n\n    const handleClick = (count) => {\n        if (quantity + count > 0) {\n            setQuantity(quantity + count)\n        }\n    }\n\n    const handleCheckOut = () => {\n        refButton.current.disabled = true\n\n        const preference = {\n            payer: {\n                name: \"Lalo\",\n                surname: \"Landa\",\n                email: \"test_user_46542185@testuser.com\",\n                phone: {\n                    area_code: \"52\",\n                    number: 5549737300\n                },\n                identification: {\n                    type: \"DNI\",\n                    number: \"22334445\"\n                },\n                address: {\n                    zip_code: \"03940\",\n                    street_name: \"Insurgentes Sur\",\n                    street_number: 1602\n                }\n            },\n            items: [\n                {\n                    id: \"1234\",\n                    picture_url: `${process.env.REACT_APP_URL_FRONT}${data.img}`,\n                    // title: \"Samsung Galaxy S9\",\n                    title: data.title,\n                    description: \"Dispositivo mÃ³vil de Tienda e-commerce\",\n                    quantity: quantity,\n                    unit_price: data.price\n                }\n            ],\n            external_reference: `${process.env.REACT_APP_EXTERNAL_REFERENCE}`,\n            payment_methods: {\n                excluded_payment_methods: [\n                    {\n                        id: \"diners\"\n                    }\n                ],\n                excluded_payment_types: [\n                    {\n                        id: \"atm\"\n                    }\n                ],\n                installments: 6,\n            },\n            back_urls: {\n                success: `${process.env.REACT_APP_URL_FRONT}/success`,\n                pending: `${process.env.REACT_APP_URL_FRONT}/pending`,\n                failure: `${process.env.REACT_APP_URL_FRONT}/failure`\n            },\n            auto_return: \"approved\",\n            notification_url: `${process.env.REACT_APP_URL_BACK}/mercado/notifications?source_news=webhooks`\n        }\n\n        fetch(`${process.env.REACT_APP_URL_BACK}/mercado/create_preference`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(preference)\n        }).then((result) => {\n            return result.json()\n\n        }).then((preference) => {\n            window.location = preference.init_point\n        }).catch((e) => {\n            console.log(e)\n        })\n\n    }\n\n    useEffect(() => {\n        const script = document.getElementById('mercado')\n        script.setAttribute(\"view\", \"item\")\n    }, [])\n\n    return (\n\n        <div className=\"row\">\n            <h3 className=\"ms-5\">Smartphones</h3>\n            <div className=\"container mt-3\">\n                <div className=\"mb-3 w-75\">\n                    <div className=\"row g-0\">\n\n                        <div className=\"col-md-3 p-0 text-center border\">\n                            <img src={data.img} alt=\"...\"\n                                 className=\"\"\n                                 style={{'width': 200, 'height': 250}}/>\n                        </div>\n\n                        <div className=\"col-md-3 border\">\n                            <div className=\"card-body\">\n                                <h5 className=\"card-title text-primary\">Producto</h5>\n                                <p className=\"card-text\">\n                                    <strong>PRECIO: </strong>\n                                    <span className=\"text-success fw-bold\">S/. {data.price}</span>\n                                    <br/>\n                                    <strong>MODELO: </strong> {data.title}\n                                    <br/>\n                                    <strong>RAM: </strong> 8GB\n                                    <br/>\n                                    <strong>CAMARA: </strong> 12MPX\n                                    <br/>\n                                    <strong>ALMACENAMIENTO: </strong> 64GB\n                                    <br/>\n                                    <strong>PANTALLA: </strong> AMOLED\n                                    <br/>\n                                    <strong>BATERIA: </strong> 4000mAh\n                                    <br/>\n                                    <strong>PROCESADOR: </strong> Snack dragon 654\n                                    <br/>\n                                </p>\n                                {/*<p className=\"card-text\"><small className=\"text-muted\">Last updated 3 mins ago</small>*/}\n                                {/*</p>*/}\n\n                            </div>\n                        </div>\n\n                        <div className=\"col-md-3 border\">\n                            <div className=\"card-body\">\n                                <h5 className=\"card-title text-primary text-center\">Cantidad</h5>\n                                <div className=\"text-center\">\n                                    <input type=\"number\"\n                                           value={quantity}\n                                           onChange={() => {\n                                           }}\n                                           className=\"form-control\"/>\n                                    <div className=\"form-group mt-3\">\n                                        <button type=\"button\"\n                                                onClick={() => handleClick(-1)}\n                                                className=\"btn btn-primary mx-2\">-\n                                        </button>\n                                        <button type=\"button\"\n                                                onClick={() => handleClick(+1)}\n                                                className=\"btn btn-primary\">+\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"col-md-3 border text-center\">\n                            <div className=\"card-body\">\n                                <h5 className=\"card-title text-primary\">Cart</h5>\n                                <br/>\n                                <p className=\"fs-4\">S/ {data.price * quantity}</p>\n                                <p><strong>Subtotal</strong></p>\n                                <br/>\n                                <button type=\"button\"\n                                        ref={refButton}\n                                        id=\"btn-checkout\"\n                                        onClick={handleCheckOut}\n                                        className=\"btn btn-primary w-100\">\n                                    Pagar la compra\n                                </button>\n                                <div id=\"button-checkout\"\n                                     ref={refContainer}>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    )\n}\n"]},"metadata":{},"sourceType":"module"}